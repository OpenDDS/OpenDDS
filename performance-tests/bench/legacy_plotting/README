To generate new data and image files based on a scoreboard test run directory:

1) Set up your environment by sourcing $DDS_ROOT/setenv.sh and $BENCH_ROOT/set_bench_env.sh

  $ cd OpenDDS
  $ . setenv.sh
  $ cd performance-tests/bench
  $ . set_bench_env.sh

2) Extract the Bench v1 formatted data files from a Bench v2 test run of the b1_latency_* scenarios (e.g. what gets generated by /testbed/vm/images/centos/7.7/x64/ext/bench/run_b1_scenarios.sh when run by the 'bench' user on the VM 'centipede'). This will create the directory "<TEST_RUN_DIR>/data" with relevant data files (including json for website).

  $ ./generate-test-results.sh <TEST_RUN_DIR>

3) (Semi-Optional) You will probably want to set up some output directories for the website. Assuming you just want to create a new test run based on run_b1_scenarios.sh (see above), you will want to:

  3.1) Copy & Rename an existing test run.

    $ cp -r <GH-PAGES_ROOT>/perf/cent210803 <GH-PAGES_ROOT>/perf/<NEW_RUN_NAME>

  3.2) Make an empty images directory for the new test run.

    $ mkdir <GH-PAGES_ROOT>/images/perf/<NEW_RUN_NAME>

  3.3) Modify all the references in the new test run directory to point to the new directories

    $ <editor of choice> <GH-PAGES_ROOT>/perf/<NEW_RUN_NAME>/*.html

  3.4) Modify the performance index table to contain the new run

    $ <editor of choice> <GH-PAGES_ROOT/about/performance.html

  3.5) Finally, copy <TEST_RUN_DIR>/data/latency.csv.js to the website directory for this test run (which will overwrite the old data)

    $ cp <TEST_RUN_DIR>/data/latency.csv.js <GH-PAGES_ROOT>/perf/<NEW_RUN_NAME>

4) For a pre-existing output directory <OUTPUT-DIR>, you can then generate the PNG images for the performance website (e.g. <GH-PAGES_ROOT>/images/perf/<NEW_RUN_NAME>)

  $ ./plot-test_results.sh <TEST_RUN_DIR> <OUTPUT_DIR>

